{"ast":null,"code":"import _slicedToArray from\"/Users/berkakgun/Desktop/ttk/ttkui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useReducer,useEffect}from\"react\";import{Grid,Dimmer,Loader,Button}from\"semantic-ui-react\";import WithMessage from\"../container/withMessage\";import Statistics from\"components/container/statistics\";import{reducer}from\"components/hooks/loginReducer\";import WithModal from\"components/container/withModal\";import{getGoogleAccessToken}from\"core/db\";export var Login=function Login(_ref){var location=_ref.location;var initialState={email:\"\",password:\"\",active:false,error:\"\",modal:false};var _useReducer=useReducer(reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];//const [accessToken, setAccessToken] = useState<string>();\nvar urlParams=new URLSearchParams(location.search);var key=urlParams.get(\"access_token\");useEffect(function(){console.log(key);},[location,key]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(WithModal,{open:{status:state.modal,setStatus:dispatch},header:\"Email Confirmation\",content:\" Please Confirm Your Email and Come Back\",icon:\"mail\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"logo\"},/*#__PURE__*/React.createElement(\"img\",{alt:\"armut-logo\",title:\"armut-logo\",src:\"https://cdn.armut.com/images/tr:h-70/armut-header-logo-colour@2x.png\"})),/*#__PURE__*/React.createElement(\"div\",{style:{position:\"absolute\",top:\"20%\"}},/*#__PURE__*/React.createElement(WithMessage,{message:!state.error?\"Log in or Sign up so that we can save your precious users\":state.error,header:!state.error?\"Welcome to Armut Test Tool Kit\":\"Upps! Error...\",error:state.error?true:false})),/*#__PURE__*/React.createElement(Dimmer,{active:state.active},/*#__PURE__*/React.createElement(Loader,null)),/*#__PURE__*/React.createElement(Grid,{columns:1,relaxed:\"very\",stackable:true},/*#__PURE__*/React.createElement(Grid.Column,null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return getGoogleAccessToken();}},\"Login\"))),/*#__PURE__*/React.createElement(Statistics,null));};export default Login;","map":{"version":3,"sources":["/Users/berkakgun/Desktop/ttk/ttkui/src/components/display/Login.tsx"],"names":["React","useReducer","useEffect","Grid","Dimmer","Loader","Button","WithMessage","Statistics","reducer","WithModal","getGoogleAccessToken","Login","location","initialState","email","password","active","error","modal","state","dispatch","urlParams","URLSearchParams","search","key","get","console","log","status","setStatus","position","top"],"mappings":"yJAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,KAA6C,OAA7C,CACA,OAASC,IAAT,CAAeC,MAAf,CAAuBC,MAAvB,CAA+BC,MAA/B,KAA6C,mBAA7C,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,iCAAvB,CACA,OAASC,OAAT,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,gCAAtB,CACA,OAASC,oBAAT,KAAqC,SAArC,CASA,MAAO,IAAMC,CAAAA,KAAoB,CAAG,QAAvBA,CAAAA,KAAuB,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,CACpD,GAAMC,CAAAA,YAAY,CAAG,CACnBC,KAAK,CAAE,EADY,CAEnBC,QAAQ,CAAE,EAFS,CAGnBC,MAAM,CAAE,KAHW,CAInBC,KAAK,CAAE,EAJY,CAKnBC,KAAK,CAAE,KALY,CAArB,CADoD,gBAQ1BlB,UAAU,CAACQ,OAAD,CAAUK,YAAV,CARgB,4CAQ7CM,KAR6C,iBAQtCC,QARsC,iBAUpD;AACA,GAAMC,CAAAA,SAAS,CAAG,GAAIC,CAAAA,eAAJ,CAAoBV,QAAQ,CAACW,MAA7B,CAAlB,CACA,GAAMC,CAAAA,GAAG,CAAGH,SAAS,CAACI,GAAV,CAAc,cAAd,CAAZ,CAEAxB,SAAS,CAAC,UAAM,CACdyB,OAAO,CAACC,GAAR,CAAYH,GAAZ,EACD,CAFQ,CAEN,CAACZ,QAAD,CAAWY,GAAX,CAFM,CAAT,CAIA,mBACE,oBAAC,KAAD,CAAO,QAAP,mBACE,oBAAC,SAAD,EACE,IAAI,CAAE,CAAEI,MAAM,CAAET,KAAK,CAACD,KAAhB,CAAuBW,SAAS,CAAET,QAAlC,CADR,CAEE,MAAM,CAAC,oBAFT,CAGE,OAAO,CAAC,0CAHV,CAIE,IAAI,CAAC,MAJP,EADF,cAOE,2BAAK,SAAS,CAAC,MAAf,eACE,2BACE,GAAG,CAAC,YADN,CAEE,KAAK,CAAC,YAFR,CAGE,GAAG,CAAC,sEAHN,EADF,CAPF,cAcE,2BAAK,KAAK,CAAE,CAAEU,QAAQ,CAAE,UAAZ,CAAwBC,GAAG,CAAE,KAA7B,CAAZ,eACE,oBAAC,WAAD,EACE,OAAO,CACL,CAACZ,KAAK,CAACF,KAAP,CACI,2DADJ,CAEIE,KAAK,CAACF,KAJd,CAME,MAAM,CACJ,CAACE,KAAK,CAACF,KAAP,CAAe,gCAAf,CAAkD,gBAPtD,CASE,KAAK,CAAEE,KAAK,CAACF,KAAN,CAAc,IAAd,CAAqB,KAT9B,EADF,CAdF,cA4BE,oBAAC,MAAD,EAAQ,MAAM,CAAEE,KAAK,CAACH,MAAtB,eACE,oBAAC,MAAD,MADF,CA5BF,cAgCE,oBAAC,IAAD,EAAM,OAAO,CAAE,CAAf,CAAkB,OAAO,CAAC,MAA1B,CAAiC,SAAS,KAA1C,eACE,oBAAC,IAAD,CAAM,MAAN,mBACE,oBAAC,MAAD,EAAQ,OAAO,CAAE,yBAAMN,CAAAA,oBAAoB,EAA1B,EAAjB,UADF,CADF,CAhCF,cAsCE,oBAAC,UAAD,MAtCF,CADF,CA0CD,CA5DM,CA8DP,cAAeC,CAAAA,KAAf","sourcesContent":["import React, { useReducer, useEffect } from \"react\";\nimport { Grid, Dimmer, Loader, Button } from \"semantic-ui-react\";\nimport WithMessage from \"../container/withMessage\";\nimport Statistics from \"components/container/statistics\";\nimport { reducer } from \"components/hooks/loginReducer\";\nimport WithModal from \"components/container/withModal\";\nimport { getGoogleAccessToken } from \"core/db\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\ninterface MatchParams {\n  access_token: string;\n}\n\ninterface MatchProps extends RouteComponentProps<MatchParams> {}\n\nexport const Login: React.FC<any> = ({ location }) => {\n  const initialState = {\n    email: \"\",\n    password: \"\",\n    active: false,\n    error: \"\",\n    modal: false,\n  };\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  //const [accessToken, setAccessToken] = useState<string>();\n  const urlParams = new URLSearchParams(location.search);\n  const key = urlParams.get(\"access_token\");\n\n  useEffect(() => {\n    console.log(key);\n  }, [location, key]);\n\n  return (\n    <React.Fragment>\n      <WithModal\n        open={{ status: state.modal, setStatus: dispatch }}\n        header=\"Email Confirmation\"\n        content=\" Please Confirm Your Email and Come Back\"\n        icon=\"mail\"\n      />\n      <div className=\"logo\">\n        <img\n          alt=\"armut-logo\"\n          title=\"armut-logo\"\n          src=\"https://cdn.armut.com/images/tr:h-70/armut-header-logo-colour@2x.png\"\n        />\n      </div>\n      <div style={{ position: \"absolute\", top: \"20%\" }}>\n        <WithMessage\n          message={\n            !state.error\n              ? \"Log in or Sign up so that we can save your precious users\"\n              : state.error\n          }\n          header={\n            !state.error ? \"Welcome to Armut Test Tool Kit\" : \"Upps! Error...\"\n          }\n          error={state.error ? true : false}\n        />\n      </div>\n\n      <Dimmer active={state.active}>\n        <Loader />\n      </Dimmer>\n\n      <Grid columns={1} relaxed=\"very\" stackable>\n        <Grid.Column>\n          <Button onClick={() => getGoogleAccessToken()}>Login</Button>\n        </Grid.Column>\n      </Grid>\n\n      <Statistics />\n    </React.Fragment>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}