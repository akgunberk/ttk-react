{"ast":null,"code":"import _regeneratorRuntime from\"/Users/berkakgun/Desktop/ttk/ttkui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/Users/berkakgun/Desktop/ttk/ttkui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/berkakgun/Desktop/ttk/ttkui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/berkakgun/Desktop/ttk/ttkui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/berkakgun/Desktop/ttk/ttkui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _asyncToGenerator from\"/Users/berkakgun/Desktop/ttk/ttkui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from\"react\";import{Statistic}from\"semantic-ui-react\";import fetch from\"node-fetch\";var items=[{key:\"1\",label:\"Visits\",value:\"\"},{key:\"2\",label:\"Test Users\",value:\"\"},{key:\"3\",label:\"Stage Users\",value:\"\"},{key:\"4\",label:\"Active Members\",value:\"\"}];function getStats(){return _getStats.apply(this,arguments);}function _getStats(){_getStats=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var url,stats;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:url=\"https://webhooks.mongodb-stitch.com/api/client/v2.0/app/ttk-ui-cvkwt/service/userCount/incoming_webhook/statsWebHook\";_context2.next=3;return fetch(url,{method:\"GET\"}).then(function(res){return res.json();});case 3:stats=_context2.sent;items.forEach(function(el,index){el.value=Object.values(stats[index])[0];});return _context2.abrupt(\"return\",items);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return _getStats.apply(this,arguments);}var Statistics=/*#__PURE__*/function(_React$Component){_inherits(Statistics,_React$Component);var _super=_createSuper(Statistics);function Statistics(props){var _this;_classCallCheck(this,Statistics);_this=_super.call(this,props);_this.state={items:{}};return _this;}_createClass(Statistics,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:getStats().then(function(items){return _this2.setState({items:items});});case 1:case\"end\":return _context.stop();}}},_callee);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return items[0].value?/*#__PURE__*/React.createElement(\"div\",{style:{position:\"absolute\",bottom:\"15%\"}},/*#__PURE__*/React.createElement(Statistic.Group,{items:items})):null;}}]);return Statistics;}(React.Component);export default Statistics;","map":{"version":3,"sources":["/Users/berkakgun/Desktop/ttk/ttkui/src/components/container/statistics.tsx"],"names":["React","Statistic","fetch","items","key","label","value","getStats","url","method","then","res","json","stats","forEach","el","index","Object","values","Statistics","props","state","setState","position","bottom","Component"],"mappings":"m4BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,KAA0B,mBAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,YAAlB,CAEA,GAAMC,CAAAA,KAAK,CAAG,CACZ,CAAEC,GAAG,CAAE,GAAP,CAAYC,KAAK,CAAE,QAAnB,CAA6BC,KAAK,CAAE,EAApC,CADY,CAEZ,CAAEF,GAAG,CAAE,GAAP,CAAYC,KAAK,CAAE,YAAnB,CAAiCC,KAAK,CAAE,EAAxC,CAFY,CAGZ,CAAEF,GAAG,CAAE,GAAP,CAAYC,KAAK,CAAE,aAAnB,CAAkCC,KAAK,CAAE,EAAzC,CAHY,CAIZ,CAAEF,GAAG,CAAE,GAAP,CAAYC,KAAK,CAAE,gBAAnB,CAAqCC,KAAK,CAAE,EAA5C,CAJY,CAAd,C,QAOeC,CAAAA,Q,kIAAf,sJACQC,GADR,CAEI,sHAFJ,wBAGsBN,CAAAA,KAAK,CAACM,GAAD,CAAM,CAC7BC,MAAM,CAAE,KADqB,CAAN,CAAL,CAEjBC,IAFiB,CAEZ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EAFY,CAHtB,QAGQC,KAHR,gBAOEV,KAAK,CAACW,OAAN,CAAc,SAACC,EAAD,CAAKC,KAAL,CAAe,CAC3BD,EAAE,CAACT,KAAH,CAAWW,MAAM,CAACC,MAAP,CAAsBL,KAAK,CAACG,KAAD,CAA3B,EAAoC,CAApC,CAAX,CACD,CAFD,EAPF,iCAUSb,KAVT,0D,8CAaMgB,CAAAA,U,oHACJ,oBAAYC,KAAZ,CAAwB,4CACtB,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACXlB,KAAK,CAAE,EADI,CAAb,CAHsB,aAMvB,C,qSAECI,QAAQ,GAAGG,IAAX,CAAgB,SAACP,KAAD,QAAW,CAAA,MAAI,CAACmB,QAAL,CAAc,CAAEnB,KAAK,CAALA,KAAF,CAAd,CAAX,EAAhB,E,0MAEO,CACP,MAAOA,CAAAA,KAAK,CAAC,CAAD,CAAL,CAASG,KAAT,cACL,2BAAK,KAAK,CAAE,CAAEiB,QAAQ,CAAE,UAAZ,CAAwBC,MAAM,CAAE,KAAhC,CAAZ,eACE,oBAAC,SAAD,CAAW,KAAX,EAAiB,KAAK,CAAErB,KAAxB,EADF,CADK,CAIH,IAJJ,CAKD,C,wBAjBsBH,KAAK,CAACyB,S,EAoB/B,cAAeN,CAAAA,UAAf","sourcesContent":["import React from \"react\";\nimport { Statistic } from \"semantic-ui-react\";\nimport fetch from \"node-fetch\";\n\nconst items = [\n  { key: \"1\", label: \"Visits\", value: \"\" },\n  { key: \"2\", label: \"Test Users\", value: \"\" },\n  { key: \"3\", label: \"Stage Users\", value: \"\" },\n  { key: \"4\", label: \"Active Members\", value: \"\" },\n];\n\nasync function getStats() {\n  const url =\n    \"https://webhooks.mongodb-stitch.com/api/client/v2.0/app/ttk-ui-cvkwt/service/userCount/incoming_webhook/statsWebHook\";\n  const stats = await fetch(url, {\n    method: \"GET\",\n  }).then((res) => res.json());\n\n  items.forEach((el, index) => {\n    el.value = Object.values<string>(stats[index])[0];\n  });\n  return items;\n}\n\nclass Statistics extends React.Component {\n  constructor(props: any) {\n    super(props);\n\n    this.state = {\n      items: {},\n    };\n  }\n  async componentDidMount() {\n    getStats().then((items) => this.setState({ items }));\n  }\n  render() {\n    return items[0].value ? (\n      <div style={{ position: \"absolute\", bottom: \"15%\" }}>\n        <Statistic.Group items={items} />\n      </div>\n    ) : null;\n  }\n}\n\nexport default Statistics;\n"]},"metadata":{},"sourceType":"module"}